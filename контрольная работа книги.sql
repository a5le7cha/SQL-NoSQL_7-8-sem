use [контрольная работа]
go

Create table Должности(
	[Код должности] int not null primary key,
	[Название должности] nvarchar(10) not null,
	Оклад money,
	[Количество штатных единиц] int
)
Create table Авторы(
	[Код автора] int not null primary key,
	ФИО nvarchar(30) not null,
	[Паспортные данные] nvarchar(30) not null unique,
	ИНН nvarchar(15)  unique,
	Адрес nvarchar(50) not null ,
	Телефон nvarchar(10) not null 
)
Create table Заказы(
	[№ заказа] int not null primary key,
	Заказчик nvarchar(30) not null,
	[Дата поступления заказа] date not null,
	[Адрес заказчика] nvarchar(50) not null,
	[Дата выполнения заказа] date
)
Create table Сотрудники(
	[Табельный номер]int not null primary key,
 	ФИО nvarchar(30) not null,
	[Дата рождения] date not null,
  	Пол char(1), 
  	[Паспортные данные] nvarchar(30) not null unique,
  	ИНН nvarchar(15)  unique,
   	[Код должности] int foreign key references Должности,
   	Адрес nvarchar(50) not null ,
	Телефон nvarchar(10) not null
 )
Create table Книги(
	[№ контракта] int not null primary key, 
	[Дата подписи контракта] date not null,
	 Менеджер int foreign key references Сотрудники, 
 	Название nvarchar(50) not null ,
  	Цена money not null,
  	Затраты money not null,
 	[Авторский гонорар] money not null, 
 	[Дата выхода] date not null, 
	 Тираж int not null , 
 	[Ответственный редактор] int foreign key references Сотрудники, 
 	[Остаток тиража] int not null
)
 Create table [Книги-Авторы] (
	[№ контракта] int not null foreign key references Книги,  
 	[Код автора] int not null foreign key references Авторы, 
	[Номер на обложке]  int not null, 
 	Гонорар  int not null,
 	primary key ([№ контракта],[Код автора])
)
Create table [Книги-Редакторы](
	[№ контракта] int not null foreign key references Книги, 
	[Код редактора] int foreign key references Сотрудники,
	primary key ([№ контракта],[Код редактора])
)
Create table [Строки-заказа](
	[№ заказа] int not null foreign key references Заказы,
 	[№ контракта] int not null foreign key references Книги,
 	Количество int not null,
  	primary key ([№ контракта],[№ заказа])
)


INSERT [Должности] ([Код должности], [Название должности], [Оклад], [Количество штатных единиц]) VALUES (1, N'Менеджер', 1000.0000, 3)
INSERT [Должности] ([Код должности], [Название должности], [Оклад], [Количество штатных единиц]) VALUES (2, N'Редактор', 500.0000, 5)
INSERT [Должности] ([Код должности], [Название должности], [Оклад]) VALUES (0, N'Уволен', 0.0000)

INSERT [Сотрудники] ([Табельный номер], [ФИО], [Дата рождения], [Пол], [Паспортные данные], [ИНН], [Код должности], [Адрес], [Телефон]) VALUES (1, N' Марков Сергей Николаевич', CAST(0xB1DC0A00 AS Date), N'м', N'7800123456', N'123456789123', 1, N'Иркутск пр.Мира 19-3', N'123456')
INSERT [Сотрудники] ([Табельный номер], [ФИО], [Дата рождения], [Пол], [Паспортные данные], [ИНН], [Код должности], [Адрес], [Телефон]) VALUES (2, N'Смирнов Владимир Иванович', CAST(0xF5EA0A00 AS Date), N'м', N'7802123456', N'789456123789', 2, N'Москва ул.Тверская 50-78', N'789456')
INSERT [Сотрудники] ([Табельный номер], [ФИО], [Дата рождения], [Пол], [Паспортные данные], [ИНН], [Код должности], [Адрес], [Телефон]) VALUES (3, N'Шурова Александра Николаевна', CAST(0x18F20A00 AS Date), N'ж', N'7804456123', N'456123789456', 2, N'Москва ул.Коровий Вал 5-3', N'456123')
INSERT [Сотрудники] ([Табельный номер], [ФИО], [Дата рождения], [Пол], [Паспортные данные], [ИНН], [Код должности], [Адрес], [Телефон]) VALUES (4, N'Сивашинский Израиль Хаимович', CAST(0x5FF60A00 AS Date), N'м', N'7801123456', N'456123123123', 1, N'Ярославль ул.Кирова 5-1', N'456123')
INSERT [Сотрудники] ([Табельный номер], [ФИО], [Дата рождения], [Пол], [Паспортные данные], [ИНН], [Код должности], [Адрес], [Телефон]) VALUES (5, N'Мантуров Олег Васильевич', CAST(0x30170B00 AS Date), N'м', N'7806456123', N'741852963852', 2, N'Кострома ул.Северной Правды 11-5', N'741963')
INSERT [Сотрудники] ([Табельный номер], [ФИО], [Дата рождения], [Пол], [Паспортные данные], [ИНН], [Код должности], [Адрес], [Телефон]) VALUES (6, N'Игудисман Олег Семенович', CAST(0x9D180B00 AS Date), N'м', N'7803456789', N'963741852852', 2, N'Киров ул.Ленина 4-25', N'852741')

INSERT [Книги] ([№ контракта], [Дата подписи контракта], [Менеджер], [Название], [Цена], [Затраты], [Авторский гонорар], [Дата выхода], [Тираж], [Ответственный редактор], [Остаток тиража]) VALUES (1, CAST(0xA0390B00 AS Date), 1, N'Современные проблемы математики и информатики', 100.0000, 50.0000, 30.0000, CAST(0xBC390B00 AS Date), 1000, 2, 1000)
INSERT [Книги] ([№ контракта], [Дата подписи контракта], [Менеджер], [Название], [Цена], [Затраты], [Авторский гонорар], [Дата выхода], [Тираж], [Ответственный редактор], [Остаток тиража]) VALUES (2, CAST(0x8C390B00 AS Date), 4, N'Искусство в контексте информационной культуры', 250.0000, 100.0000, 50.0000, CAST(0xAB390B00 AS Date), 2000, 3, 2000)
INSERT [Книги] ([№ контракта], [Дата подписи контракта], [Менеджер], [Название], [Цена], [Затраты], [Авторский гонорар], [Дата выхода], [Тираж], [Ответственный редактор], [Остаток тиража]) VALUES (3, CAST(0xA9390B00 AS Date), 4, N'Основные понятия экономической информатики', 150.0000, 90.0000, 20.0000, CAST(0xC6390B00 AS Date), 1500, 2, 1500)
INSERT [Книги] ([№ контракта], [Дата подписи контракта], [Менеджер], [Название], [Цена], [Затраты], [Авторский гонорар], [Дата выхода], [Тираж], [Ответственный редактор], [Остаток тиража]) VALUES (4, CAST(0x5D390B00 AS Date), 1, N'Формальные языки и грамматики', 300.0000, 200.0000, 100.0000, CAST(0x77390B00 AS Date), 2000, 6, 2000)
INSERT [Книги] ([№ контракта], [Дата подписи контракта], [Менеджер], [Название], [Цена], [Затраты], [Авторский гонорар], [Дата выхода], [Тираж], [Ответственный редактор], [Остаток тиража]) VALUES (5, CAST(0x78390B00 AS Date), 1, N'Информатика для юристов и экономистов', 230.0000, 150.0000, 70.0000, CAST(0xA9390B00 AS Date), 1000, 5, 1000)
INSERT [Книги] ([№ контракта], [Дата подписи контракта], [Менеджер], [Название], [Цена], [Затраты], [Авторский гонорар], [Дата выхода], [Тираж], [Ответственный редактор], [Остаток тиража]) VALUES (6, CAST(0x3F390B00 AS Date), 1, N'Экономическая информатика', 170.0000, 100.0000, 60.0000, CAST(0xD83A0B00 AS Date), 2000, 6, 2000)
INSERT [Книги] ([№ контракта], [Дата подписи контракта], [Менеджер], [Название], [Цена], [Затраты], [Авторский гонорар], [Дата выхода], [Тираж], [Ответственный редактор], [Остаток тиража]) VALUES (7, CAST(0xA9390B00 AS Date), 4, N'Экономическая информатика', 270.0000, 200.0000, 120.0000, CAST(0xC8390B00 AS Date), 2000, 2, 2000)

INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (1, 2)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (1, 5)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (1, 6)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (2, 3)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (2, 5)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (2, 6)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (3, 3)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (4, 2)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (4, 4)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (4, 5)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (4, 6)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (5, 2)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (5, 3)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (6, 2)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (6, 3)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (6, 5)
INSERT [Книги-Редакторы] ([№ контракта], [Код редактора]) VALUES (7, 4)

INSERT [Авторы] ([Код автора], [ФИО], [Паспортные данные], [ИНН], [Адрес], [Телефон]) VALUES (1, N'Евстигнеев В. А.', N'7800123456', N'456123789789', N'Новосибирск ул.Советская 34-67', N'123456')
INSERT [Авторы] ([Код автора], [ФИО], [Паспортные данные], [ИНН], [Адрес], [Телефон]) VALUES (2, N'Першиков Владимир Иванович', N'7802456321', N'852147639123', N'Москва ул.Кузнецкий Мост 3-5', N'456123')
INSERT [Авторы] ([Код автора], [ФИО], [Паспортные данные], [ИНН], [Адрес], [Телефон]) VALUES (3, N'Грэхем Роналд', N'123456789123', N'123456456123', N'Санкт-Петербург пр.Шаумяна 26-54', N'123456')
INSERT [Авторы] ([Код автора], [ФИО], [Паспортные данные], [ИНН], [Адрес], [Телефон]) VALUES (4, N'Серебренникова Т. Ф.', N'7800654132', N'852369471528', N'Ярославль пр.Машиностроителей 15-27', N'123654')
INSERT [Авторы] ([Код автора], [ФИО], [Паспортные данные], [ИНН], [Адрес], [Телефон]) VALUES (5, N'Соколов Валерий Анатольевич', N'7802564231', N'852369417582', N'Ярославль улюЩапова 13-6', N'123456')

INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (1, 1, 1, 20)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (1, 2, 3, 10)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (1, 5, 2, 20)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (2, 1, 3, 10)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (2, 3, 2, 10)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (2, 4, 1, 20)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (3, 1, 2, 10)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (3, 5, 1, 30)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (4, 2, 2, 20)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (4, 4, 3, 10)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (4, 5, 1, 25)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (5, 3, 1, 10)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (5, 4, 2, 5)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (5, 5, 3, 2)
INSERT [Книги-Авторы] ([№ контракта], [Код автора], [Номер на обложке], [Гонорар]) VALUES (6, 5, 1, 100)

INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (1, N'Михалков Никита Сергеевич', CAST(0x3C390B00 AS Date), N'Ярославль Советская 81', CAST(0x8D390B00 AS Date))
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (2, N'Серов Александр Николаевич', CAST(0x5D390B00 AS Date), N'Москва Мира 21 36', CAST(0x7C390B00 AS Date))
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (3, N'Королева Наталия Владимировна', CAST(0x67390B00 AS Date), N'Киев Шевченко 12 45', NULL)
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (4, N'Орбакайте Кристина Эдмундовна', CAST(0x78390B00 AS Date), N'Паланга Басанавичюса 38', CAST(0xA9390B00 AS Date))
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (5, N'Пугачева Алла Борисовна', CAST(0x77390B00 AS Date), N'Санкт-Петербург 10-я линия 11', CAST(0xBC390B00 AS Date))
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (6, N'Николаев Игорь Юрьевич', CAST(0x44390B00 AS Date), N'Южно-Сахалинск Ленина 30', NULL)
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (7, N'Аллегрова Ирина Александровна', CAST(0x96390B00 AS Date), N'Ростов-на Дону Чкалова 56 70', CAST(0xB2390B00 AS Date))
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (8, N'Пугачева Алла Борисовна', CAST(0xAC390B00 AS Date), N'Санкт-Петербург 10-я линия 11', NULL)
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (9, N'Меладзе Валерий Шотаевич', CAST(0xA5390B00 AS Date), N'Тбилиси Плеханова 24 45', NULL)
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (10, N'Королева Наталия Владимировна', CAST(0x86390B00 AS Date), N'Киев Шевченко 12 45', CAST(0xBC390B00 AS Date))
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (11, N'Серов Александр Николаевич', CAST(0x91390B00 AS Date), N'Москва Мира 21 36', CAST(0xC6390B00 AS Date))
INSERT [Заказы] ([№ заказа], [Заказчик], [Дата поступления заказа], [Адрес заказчика], [Дата выполнения заказа]) VALUES (12, N'Королева Наталия Владимировна', CAST(0xAA390B00 AS Date), N'Киев Шевченко 12 45', CAST(0xC8390B00 AS Date))

INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (2, 1, 1500)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (9, 1, 1000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (1, 2, 2000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (4, 2, 2000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (6, 2, 1000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (9, 2, 2000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (3, 3, 2000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (4, 3, 5000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (7, 3, 2000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (9, 3, 3000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (12, 3, 3000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (2, 4, 2500)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (5, 4, 3000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (9, 4, 4000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (11, 4, 1000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (1, 5, 1000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (8, 5, 1000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (10, 5, 2000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (11, 5, 2000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (1, 6, 1000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (5, 6, 4500)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (7, 6, 5000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (11, 6, 3000)
INSERT [Строки-заказа] ([№ заказа], [№ контракта], [Количество]) VALUES (11, 7, 2000)

